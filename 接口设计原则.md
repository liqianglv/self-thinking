# 接口设计的原则及一些例子
总体设计原则： 封装，高内聚，低耦合

## 1、接口的单一职责原则
单一职责可以理解为每个接口仅暴露需要的最少信息，符合低耦合的设计原则。
### 例子
钱袋宝账户，类似于支付宝账户。注册钱袋宝账户，对个人用户而言，仅需要用户的身份证号，银行卡，手机号码等信息；对于商户用户而言，需要商户的营业执照，办公地址等商业相关信息。虽然都是注册账户功能，但是应该按照个人用户注册和商户用户注册，设计2个接口。这样避免了多余信息的暴露（个人用户不需要知道商业用户的注册信息），防止单个接口种出现多个控制流。

## 2、定义业务接口，而不是实现接口
接口定义，包括接口名称，参数名称等应按照业务含义和名称来定义，而不是按照暴露内部实现的方式来定义。
### 例子
出租车线上打车系统，司机的收入除了订单的收入，还包括客服主动扣款（比如因为记账错误，因为反作弊等），客服主动补款（比如漏记账，司机协助测试等），针对司机的运营活动收入等。不好的设计方案：
方法一: 注册一个通用的司机增加收入接口，调用方传入司机id, 收入类型，收入金额等信息，多个业务可以共用这个接口
```java
   boolean addDriverMoney(String driverId, int moneyType, int money, String operator, Date opeTime, ...);
```   
这种接口设计是典型的面相实现的设计，接口内容暴露了接口实现的某些细节，存在的问题：
* 暴露了接口实现（例子中司机收入）相关的细节，违背了比如 moneyType， 收入类型作为司机收入内部数据，不允许外围系统感知， 这违背了封装性原则。
* 职责不单一，对于不同的收入类型，可能需要不同的前置处理，实现接口违反了单一职责原则

比较合理的设计是定义业务接口，接口反应业务
```java
   boolean systemReward(String driverId, int rewardMoney, String operator, Date opeTime, ...);  //系统补款功能
   boolean systemFine(String driverId，int fineMoney, String operator, Date opeTime, ...);  //系统罚款功能
   ...
```

